<form [formGroup]="form" (ngSubmit)="onSubmit()">
    <p class="text-title">Добавление нового товара</p>
    <div class="form-group" fxLayout="row">
        <label for="photo">Фото</label>
        <div fxLayout="column">
            <input            
                type="file"
                id="photo"
                formControlName="photo"
            >
        </div>
    </div>
    <div class="form-group" fxLayout="row">
        <label for="name">Наименование</label>
        <div fxLayout="column">
            <input
                [class.danger]="isControlInvalid('name')"              
                type="text"
                id="name"
                placeholder="Введите название"
                formControlName="name"
            >
            <span 
                class="error-message"
                *ngIf="isControlInvalid('name')"
            >
                <span class="error-message-text" *ngIf="form.get('name')['errors']['required']">* Поле наименования должно быть заполнено</span>
            </span>
        </div>
    </div>
    <div class="form-group" fxLayout="row">
        <label for="price">Цена</label>
        <div fxLayout="column">
            <input
                [class.danger]="isControlInvalid('price')"
                type="number"
                id="price"
                placeholder="Введите цену"
                formControlName="price"
                min=1
            >
            <span 
                class="error-message"
                *ngIf="isControlInvalid('price')"
            >
                <span 
                    class="error-message-text" 
                    *ngIf="form.get('price')['errors']['required']">
                        * Поле цена должно быть заполнено
                </span>
                <span 
                    class="error-message-text" 
                    *ngIf="form.get('price')['errors']['min']">
                        * Поле цена не может быть отрицательным
                </span>
            </span>
        </div>
    </div>
    <div class="form-group" fxLayout="row">
        <label for="count">Количество</label>
        <div fxLayout="column">
            <input
                [class.danger]="isControlInvalid('count')"
                type="number"
                id="count"
                placeholder="Введите количество"
                formControlName="count"
            >
            <span 
                class="error-message"
                *ngIf="isControlInvalid('count')"
            >
                <span 
                    class="error-message-text" 
                    *ngIf="form.get('count')['errors']['required']">
                        * Поле количество должно быть заполнено
                </span>
                <span 
                    class="error-message-text" 
                    *ngIf="form.get('count')['errors']['min']">
                        * Поле количество не может быть отрицательным
                </span>
            </span>
        </div>
    </div>
    <div class="form-group" fxLayout="row">
        <button 
            type="submit" 
            [disabled]="form.invalid"
        >
            Ок
        </button>
        <button
            type="submit"
            (click)="clearForm()" 
        >
            Отмена
        </button>
    </div>
</form>