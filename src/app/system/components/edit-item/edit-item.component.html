<form [formGroup]="form" (ngSubmit)="onSubmit()">
    <p class="text-title" *ngIf="isAddedProduct">Добавление нового товара</p>
    <p class="text-title" *ngIf="!isAddedProduct">Редактирование товара:<br><span class="item-name">{{item.name}}</span></p>
    <div class="form-group" fxLayout="column">
        <label class="uploadButton" for="photo">Загрузить изображение</label>
        <div fxLayout="row">
        <label fxLayoutAlign="center center" >Фото</label>
            <div>
                <input            
                    (change)="onFileSelected($event)"
                    type="file"
                    id="photo"
                    formControlName="photo"
                    style="display: none"
                >
                <img [src]="isNotImage()" class="item-image">
            </div>
        </div>
    </div>
    <div class="form-group" fxLayout="row" fxLayoutAlign="center">
        <label for="name">Наименование</label>
        <div fxLayout="column">
            <mat-form-field>
                <input 
                    matInput 
                    type="text"
                    [class.danger]="isControlInvalid('name')"
                    id="name"
                    placeholder="Введите название"
                    formControlName="name" 
                    [ngModel]="item.name"
                    ngModel
                >
            </mat-form-field>
            <span 
                class="error-message"
                *ngIf="isControlInvalid('name')"
            >
                <span class="error-message-text" *ngIf="form.get('name')['errors']['required']">* Поле наименования должно быть заполнено</span>
                <span class="error-message-text" *ngIf="form.get('name')['errors']['pattern']">* Поле наименования не может начинаться с цифры</span>
            </span>
        </div>
    </div>
    <div class="form-group" fxLayout="row" fxLayoutAlign="center">
        <label for="price">Цена</label>
        <div fxLayout="column">
            <mat-form-field>
                <input 
                    matInput 
                    [class.danger]="isControlInvalid('price')"
                    type="number"
                    placeholder="Введите наименование"
                    formControlName="price"
                    min=1
                    [ngModel]="item.price"
                    ngModel
                >
            </mat-form-field>
            <span 
                class="error-message"
                *ngIf="isControlInvalid('price')"
            >
                <span 
                    class="error-message-text" 
                    *ngIf="form.get('price')['errors']['required']">
                        * Поле цена должно быть заполнено
                </span>
                <span 
                    class="error-message-text" 
                    *ngIf="form.get('price')['errors']['min']">
                        * Поле цена не может быть отрицательным
                </span>
            </span>
        </div>
    </div>
    <div class="form-group" fxLayout="row" fxLayoutAlign="center">
        <label for="count">Количество</label>
        <div fxLayout="column">
            <mat-form-field>
                <input 
                    matInput 
                    [class.danger]="isControlInvalid('count')"
                    type="number"
                    id="count"
                    placeholder="Введите количество"
                    formControlName="count"
                    [ngModel]="item.count"
                    ngModel
                >
            </mat-form-field>
            <span 
                class="error-message"
                *ngIf="isControlInvalid('count')"
            >
                <span 
                    class="error-message-text" 
                    *ngIf="form.get('count')['errors']['required']">
                        * Поле количество должно быть заполнено
                </span>
                <span 
                    class="error-message-text" 
                    *ngIf="form.get('count')['errors']['min']">
                        * Поле количество не может быть отрицательным
                </span>
            </span>
        </div>
    </div>
    <div class="form-group" fxLayout="row" fxLayoutAlign="center">
        <zdsBtn 
            text="Ok"
            typeValue="submit"
            disable="{{form.invalid}}"
            *ngIf="isAddedProduct"
        >
        </zdsBtn>
        <zdsBtn 
            text="Принять"
            typeValue="submit" 
            disable="{{form.invalid && form.touched}}"
            *ngIf="!isAddedProduct"
        >
        </zdsBtn>
        <zdsBtn 
            text="Отмена"
            typeValue="button"
            className="btn-reset"
            (click)="clearForm()" 
        >
        </zdsBtn>
    </div>
</form>